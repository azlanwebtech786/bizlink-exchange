<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Bizlink 10X – Pro Admin</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{margin:0;font-family:Poppins;background:#020617;color:#e5e7eb}
.container{max-width:1300px;margin:auto;padding:24px}
.card{background:#0f172a;border:1px solid rgba(148,163,184,.15);
border-radius:14px;padding:20px;margin-bottom:20px}
.tabs{display:flex;gap:10px;margin-bottom:20px}
.tab{padding:10px 20px;background:#1e293b;border-radius:8px;cursor:pointer}
.active{background:linear-gradient(90deg,#8b5cf6,#ec4899)}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{padding:12px;border-bottom:1px solid rgba(148,163,184,.1)}
.small{font-size:13px;color:#94a3b8}
</style>
</head>

<body>
<div class="container">

<div class="card">
  <h2>Bizlink 10X – Mission Control (Admin Pro)</h2>
  <div class="small">Full System Visibility</div>
</div>

<div class="tabs">
  <div class="tab active" onclick="show('overview')">Overview</div>
  <div class="tab" onclick="show('clients')">Clients</div>
  <div class="tab" onclick="show('experts')">Experts</div>
  <div class="tab" onclick="show('works')">Live Works</div>
</div>

<!-- OVERVIEW -->
<div id="overview" class="card section">
  <h3>System Overview</h3>
  <div id="stats"></div>
</div>

<!-- CLIENTS -->
<div id="clients" class="card section" style="display:none">
  <h3>All Clients</h3>
  <table id="clientTable"></table>
</div>

<!-- EXPERTS -->
<div id="experts" class="card section" style="display:none">
  <h3>Expert Load</h3>
  <table id="expertTable"></table>
</div>

<!-- WORKS -->
<div id="works" class="card section" style="display:none">
  <h3>Live Work Monitor</h3>
  <table id="workTable"></table>
</div>

</div>

<script>
const API="PASTE_APPS_SCRIPT_URL";

function show(id){
  document.querySelectorAll('.section').forEach(s=>s.style.display='none');
  document.getElementById(id).style.display='block';
}

async function loadAll(){
  const res=await fetch(API+"?admin=all");
  const data=await res.json();

  // Overview
  document.getElementById("stats").innerHTML=`
    Total Clients: <b>${data.totalClients}</b><br>
    Active Works: <b>${data.activeWorks}</b><br>
    Experts: <b>${data.totalExperts}</b>
  `;

  // Clients
  let c=`<tr><th>ID</th><th>Name</th><th>Plan</th><th>Status</th></tr>`;
  data.clients.forEach(x=>{
    c+=`<tr><td>${x.id}</td><td>${x.name}</td><td>${x.plan}</td><td>${x.status}</td></tr>`;
  });
  document.getElementById("clientTable").innerHTML=c;

  // Experts
  let e=`<tr><th>Expert</th><th>Clients</th></tr>`;
  Object.entries(data.experts).forEach(([k,v])=>{
    e+=`<tr><td>${k}</td><td>${v}</td></tr>`;
  });
  document.getElementById("expertTable").innerHTML=e;

  // Works
  let w=`<tr><th>Client</th><th>Work</th><th>Status</th></tr>`;
  data.works.forEach(x=>{
    w+=`<tr><td>${x.client}</td><td>${x.work}</td><td>${x.status}</td></tr>`;
  });
  document.getElementById("workTable").innerHTML=w;
}

loadAll();
</script>
</body>
</html>
