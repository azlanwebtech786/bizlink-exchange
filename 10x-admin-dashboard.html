<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BizLink Admin â€“ 10X Grow Lab</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Tailwind -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  font-family:Poppins,sans-serif;
  background:#020617;
  color:#e5e7eb;
}
.card{
  background:#0b1220;
  border:1px solid rgba(148,163,184,.25);
}
.tab-active{
  background:#7c3aed;
}
</style>
</head>

<body class="min-h-screen">

<!-- HEADER -->
<header class="bg-slate-950 border-b border-slate-800">
  <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between">
    <h1 class="font-bold text-lg">BizLink <span class="text-purple-400">Admin Panel</span></h1>
    <button onclick="logout()" class="bg-red-600 px-4 py-1 rounded text-sm">Logout</button>
  </div>
</header>

<main class="max-w-7xl mx-auto px-4 py-6 space-y-8">

<!-- ================= PLAN TASK SETUP ================= -->
<section class="card rounded-xl p-5">
  <h2 class="text-lg font-semibold mb-4">Plan Task Setup</h2>

  <!-- TABS -->
  <div class="flex gap-2 mb-4">
    <button onclick="switchPlan('basic')" id="tab-basic" class="px-4 py-2 rounded tab-active">Basic</button>
    <button onclick="switchPlan('standard')" id="tab-standard" class="px-4 py-2 rounded bg-slate-800">Standard</button>
    <button onclick="switchPlan('premium')" id="tab-premium" class="px-4 py-2 rounded bg-slate-800">Premium / 10X</button>
  </div>

  <!-- TASK TABLE -->
  <table class="w-full text-sm">
    <thead class="bg-slate-800">
      <tr>
        <th class="px-3 py-2 text-left">Task Name</th>
        <th class="px-3 py-2 text-left">Qty / Month</th>
        <th class="px-3 py-2 text-left">Active</th>
      </tr>
    </thead>
    <tbody id="planTasks" class="bg-slate-900"></tbody>
  </table>

  <button onclick="addTaskRow()" class="mt-3 bg-purple-600 px-4 py-2 rounded text-sm">
    + Add Task
  </button>
</section>

<!-- ================= TASK ASSIGNMENT ================= -->
<section class="card rounded-xl p-5">
  <h2 class="text-lg font-semibold mb-4">Task Assignment (One-Time)</h2>

  <!-- CLIENT SELECT -->
  <div class="mb-4">
    <label class="text-xs text-slate-400">Select Client</label>
    <select id="clientSelect" class="w-full bg-slate-900 border border-slate-700 px-3 py-2 rounded">
      <option value="">-- Select Client --</option>
    </select>
  </div>

  <!-- ASSIGN TABLE -->
  <table class="w-full text-sm">
    <thead class="bg-slate-800">
      <tr>
        <th class="px-3 py-2 text-left">Task</th>
        <th class="px-3 py-2 text-left">Assign Freelancer</th>
      </tr>
    </thead>
    <tbody id="assignTable" class="bg-slate-900"></tbody>
  </table>

  <button onclick="saveAssignments()" class="mt-4 bg-green-600 px-4 py-2 rounded text-sm">
    Save Assignment
  </button>
</section>

</main>

<script>
/* ================= STATE ================= */
let currentPlan = "basic";

const planData = {
  basic: [],
  standard: [],
  premium: []
};

/* ================= PLAN TASK UI ================= */
function switchPlan(plan){
  currentPlan = plan;
  document.querySelectorAll("[id^='tab-']").forEach(t=>{
    t.classList.remove("tab-active");
    t.classList.add("bg-slate-800");
  });
  document.getElementById("tab-"+plan).classList.add("tab-active");
  renderPlanTasks();
}

function renderPlanTasks(){
  const tbody = document.getElementById("planTasks");
  tbody.innerHTML = "";

  planData[currentPlan].forEach((t,i)=>{
    tbody.innerHTML += `
      <tr class="border-b border-slate-800">
        <td class="px-3 py-2">
          <input value="${t.name}" class="bg-slate-800 px-2 py-1 rounded w-full">
        </td>
        <td class="px-3 py-2">
          <input value="${t.qty}" type="number" class="bg-slate-800 px-2 py-1 rounded w-full">
        </td>
        <td class="px-3 py-2 text-center">
          <input type="checkbox" ${t.active ? "checked" : ""}>
        </td>
      </tr>`;
  });
}

function addTaskRow(){
  planData[currentPlan].push({name:"",qty:1,active:true});
  renderPlanTasks();
}

/* ================= TASK ASSIGNMENT UI ================= */
function loadDummyClients(){
  const c = document.getElementById("clientSelect");
  ["BZ101 - Aayu (Premium)","BZ102 - Salon (Standard)"].forEach(v=>{
    const o=document.createElement("option");
    o.textContent=v;
    c.appendChild(o);
  });
}

function loadAssignmentTasks(){
  const tbody = document.getElementById("assignTable");
  tbody.innerHTML="";
  planData[currentPlan].forEach(t=>{
    tbody.innerHTML += `
      <tr class="border-b border-slate-800">
        <td class="px-3 py-2">${t.name}</td>
        <td class="px-3 py-2">
          <select class="bg-slate-800 px-2 py-1 rounded w-full">
            <option>Ramesh (Reels)</option>
            <option>Suresh (Ads)</option>
          </select>
        </td>
      </tr>`;
  });
}

document.getElementById("clientSelect").addEventListener("change",loadAssignmentTasks);

function saveAssignments(){
  alert("Assignments saved. Future daily tasks auto-assign honge.");
}

function logout(){
  window.location.href="login.html";
}

/* INIT */
switchPlan("basic");
loadDummyClients();
</script>

</body>
</html>
